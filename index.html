<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Anime List</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #111;
    color: #fff;
    margin: 0;
    padding: 20px;
}

h2 {
    margin-top: 40px;
}

.search-container {
    display: flex;
    gap: 10px;
}

input[type="text"] {
    flex: 1;
    padding: 10px;
    font-size: 16px;
}

button {
    padding: 10px 15px;
    font-size: 18px;
    cursor: pointer;
    background: #ff4757;
    border: none;
    color: white;
}

.autocomplete {
    background: #222;
    border: 1px solid #333;
    position: absolute;
    width: calc(100% - 80px);
    z-index: 10;
}

.autocomplete div {
    padding: 8px;
    cursor: pointer;
}

.autocomplete div:hover {
    background: #444;
}

.anime-list {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.anime-card {
    background: #222;
    padding: 10px;
    width: 160px;
    border-radius: 6px;
    text-align: center;
}

.anime-card img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    border-radius: 5px;
}

/* MODAL */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    align-items: center;
    justify-content: center;
}

.modal-content {
    background: #222;
    padding: 20px;
    width: 300px;
    border-radius: 8px;
}

.category-btn {
    margin: 5px;
    padding: 8px;
    width: 100%;
    background: #333;
    border: none;
    color: white;
    cursor: pointer;
}

.category-btn:hover {
    background: #ff4757;
}
</style>
</head>
<body>

<h1>üéå My Anime List</h1>

<div class="search-container">
    <input type="text" id="search" placeholder="Search anime...">
    <button id="randomBtn">+</button>
</div>
<div id="autocomplete" class="autocomplete"></div>

<h2>üî• Peak</h2>
<div id="peakList" class="anime-list"></div>

<h2>üì∫ Watched</h2>
<div id="animeList" class="anime-list"></div>

<!-- MODAL -->
<div id="modal" class="modal">
    <div class="modal-content">
        <h3 id="modalTitle"></h3>
        <p>Rating (1‚Äì10)</p>
        <input type="number" id="rating" min="1" max="10" value="10" style="width:100%; padding:5px">

        <p>Category</p>
        <button class="category-btn" onclick="saveAnime('Peak')">Peak</button>
        <button class="category-btn" onclick="saveAnime('Great')">Great</button>
        <button class="category-btn" onclick="saveAnime('Good')">Good</button>
        <button class="category-btn" onclick="saveAnime('Meh')">Meh</button>
    </div>
</div>

<script>
const animeDB = [
    { name: "Attack on Titan", img: "https://via.placeholder.com/300x450?text=AOT" },
    { name: "Death Note", img: "https://via.placeholder.com/300x450?text=Death+Note" },
    { name: "One Piece", img: "https://via.placeholder.com/300x450?text=One+Piece" },
    { name: "Naruto", img: "https://via.placeholder.com/300x450?text=Naruto" },
    { name: "Jujutsu Kaisen", img: "https://via.placeholder.com/300x450?text=JJK" }
];

let selectedAnime = null;

const search = document.getElementById("search");
const autocomplete = document.getElementById("autocomplete");

search.addEventListener("input", () => {
    autocomplete.innerHTML = "";
    if (!search.value) return;

    animeDB
        .filter(a => a.name.toLowerCase().includes(search.value.toLowerCase()))
        .forEach(anime => {
            const div = document.createElement("div");
            div.textContent = anime.name;
            div.onclick = () => openModal(anime);
            autocomplete.appendChild(div);
        });
});

document.getElementById("randomBtn").onclick = () => {
    const randomAnime = animeDB[Math.floor(Math.random() * animeDB.length)];
    openModal(randomAnime);
};

function openModal(anime) {
    selectedAnime = anime;
    document.getElementById("modalTitle").textContent = anime.name;
    document.getElementById("modal").style.display = "flex";
    autocomplete.innerHTML = "";
    search.value = "";
}

function saveAnime(category) {
    const rating = document.getElementById("rating").value;
    const card = document.createElement("div");
    card.className = "anime-card";
    card.innerHTML = `
        <img src="${selectedAnime.img}">
        <h4>${selectedAnime.name}</h4>
        <p>‚≠ê ${rating}/10</p>
        <p>${category}</p>
    `;

    if (category === "Peak") {
        document.getElementById("peakList").appendChild(card);
    } else {
        document.getElementById("animeList").appendChild(card);
    }

    document.getElementById("modal").style.display = "none";
}
</script>

</body>
</html>
